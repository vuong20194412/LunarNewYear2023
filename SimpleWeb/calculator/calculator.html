<!DOCTYPE html>
<html lang="en">

<head id="head">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title> Calculator </title>
</head>

<body id="body" class="layout-center">
  <style>
    #div1 {
      width: 400px;
      height: 400px;
    }
  </style>
  <div id="div1" class="flex-col gap-4 px-4 py-2 shadow-md bg-gray-200 rounded">
    <input id="input1" placeholder="0" class="px-2 py-8 text-3xl text-right rounded outline-0 border-0">
    <div class="grid-5-4 h-full gap-1">
      <input type="button" value="1" onclick="appendDigit(this.value)" class="bg-white border-0 rounded">
      <input type="button" value="2" onclick="appendDigit(this.value)" class="bg-white border-0 rounded">
      <input type="button" value="3" onclick="appendDigit(this.value)" class="bg-white border-0 rounded">
      <input type="button" value="+" onclick="appendSymbol(this.value)"
        class="text-white border-0 rounded bg-amber-500">
      <input type="button" value="4" onclick="appendDigit(this.value)" class="bg-white border-0 rounded">
      <input type="button" value="5" onclick="appendDigit(this.value)" class="bg-white border-0 rounded">
      <input type="button" value="6" onclick="appendDigit(this.value)" class="bg-white border-0 rounded">
      <input type="button" value="-" onclick="appendSymbol(this.value)"
        class="text-white border-0 rounded bg-amber-500">
      <input type="button" value="7" onclick="appendDigit(this.value)" class="bg-white border-0 rounded">
      <input type="button" value="8" onclick="appendDigit(this.value)" class="bg-white border-0 rounded">
      <input type="button" value="9" onclick="appendDigit(this.value)" class="bg-white border-0 rounded">
      <input type="button" value="*" onclick="appendSymbol(this.value)"
        class="text-white border-0 rounded bg-amber-500">
      <input type="button" value="." onclick="appendSymbol(this.value)" class="bg-white border-0 rounded">
      <input type="button" value="0" onclick="appendDigit(this.value)" class="bg-white border-0 rounded">
      <input type="button" value="C" onclick="clearInput()" class="text-white border-0 rounded bg-red-500">
      <input type="button" value="/" onclick="appendSymbol(this.value)"
        class="text-white border-0 rounded bg-amber-500">
      <input type="button" value="=" onclick="calculate()"
        class="text-white border-0 rounded bg-blue-500 col-span-full">
    </div>
  </div>

  <script src="..\normalize.css.js" defer=""></script>
  <script src="calculator.css.js" defer=""></script>
  <script defer="">
    const input = document.getElementById('input1');
    const acceptKeys = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", ".", "+", "-", "*", "/", "Backspace", "Tab", "Copy", "Cut", "Delete", "ArrowRight", "ArrowLeft"];
    expression = "";

    input.addEventListener('keydown', (event) => {
      if (!(event.isComposing || event.keyCode === 229 || acceptKeys.includes(event.key))) {
        event.preventDefault();
      }
    });
    input.addEventListener('keyup', function (event) {
      if (event.key == "Enter") {
        expression = this.value;
        calculate();
      }
    });
    input.addEventListener('change', function () { expression = this.value; });

    var appendDigit = (num) => input.value = expression += num;
    var appendSymbol = (symbol) => input.value = expression += symbol;
    var clearInput = () => input.value = expression = "";
    function calculate() {
      if (expression) {
        try {
          expression = eval(expression);
          if (expression == "INFINITY") {
            expression = "";
          }
          else {
            input.value = expression;
          }
        }
        catch (e) { }
      }
    }
  </script>
</body>

</html>